<div class="mx-auto max-w-3xl px-4 py-8">
  <div class="mb-6 flex items-center justify-between">
    <h1 class="text-3xl font-bold text-gray-900">Create New Course</h1>
    <a
      routerLink="/courses"
      class="rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50"
    >
      Cancel
    </a>
  </div>

  @if (errorMessage()) {
    <div class="mb-6 rounded-md bg-red-50 p-4">
      <p class="text-sm text-red-800">{{ errorMessage() }}</p>
    </div>
  }

  <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm">
    <form [formGroup]="courseForm" (ngSubmit)="onSubmit()">
      <div class="mb-6">
        <label for="title" class="mb-2 block text-sm font-medium text-gray-700">
          Course Title *
        </label>
        <input
          id="title"
          type="text"
          formControlName="title"
          class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
          placeholder="e.g., Introduction to Python Programming"
        />
        @if (courseForm.get('title')?.invalid && courseForm.get('title')?.touched) {
          <p class="mt-1 text-sm text-red-600">
            @if (courseForm.get('title')?.errors?.['required']) {
              Course title is required
            }
            @if (courseForm.get('title')?.errors?.['minlength']) {
              Course title must be at least 3 characters
            }
          </p>
        }
      </div>

      <div class="mb-6">
        <label for="description" class="mb-2 block text-sm font-medium text-gray-700">
          Course Description *
        </label>
        <textarea
          id="description"
          formControlName="description"
          rows="6"
          class="w-full rounded-md border border-gray-300 px-3 py-2 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500"
          placeholder="Describe what students will learn in this course..."
        ></textarea>
        @if (courseForm.get('description')?.invalid && courseForm.get('description')?.touched) {
          <p class="mt-1 text-sm text-red-600">
            @if (courseForm.get('description')?.errors?.['required']) {
              Course description is required
            }
            @if (courseForm.get('description')?.errors?.['minlength']) {
              Course description must be at least 10 characters
            }
          </p>
        }
      </div>

      <div class="rounded-md bg-blue-50 p-4 mb-6">
        <p class="text-sm text-blue-800">
          ðŸ’¡ After creating the course, you'll be able to add chapters, subchapters, and learning blocks
          (theory, videos, quizzes, and coding problems).
        </p>
      </div>

      <div class="flex gap-3">
        <button
          type="submit"
          [disabled]="isLoading()"
          class="flex-1 rounded-md bg-blue-600 px-4 py-2 text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
        >
          @if (isLoading()) {
            <span>Creating...</span>
          } @else {
            <span>Create Course</span>
          }
        </button>
        <a
          routerLink="/courses"
          class="flex-1 rounded-md border border-gray-300 bg-white px-4 py-2 text-center text-gray-700 hover:bg-gray-50"
        >
          Cancel
        </a>
      </div>
    </form>
  </div>
</div>
